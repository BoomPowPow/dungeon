!function(Q,B){"object"==typeof exports&&"object"==typeof module?module.exports=B():"function"==typeof define&&define.amd?define([],B):"object"==typeof exports?exports.Dungeon=B():Q.Dungeon=B()}("undefined"!=typeof self?self:this,function(){return function(Q){function B(F){if(U[F])return U[F].exports;var I=U[F]={i:F,l:!1,exports:{}};return Q[F].call(I.exports,I,I.exports,B),I.l=!0,I.exports}var U={};return B.m=Q,B.c=U,B.d=function(Q,U,F){B.o(Q,U)||Object.defineProperty(Q,U,{configurable:!1,enumerable:!0,get:F})},B.n=function(Q){var U=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(U,"a",U),U},B.o=function(Q,B){return Object.prototype.hasOwnProperty.call(Q,B)},B.p="",B(B.s=1)}([function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nvar TILES = {\n  EMPTY: 0,\n  WALL: 1,\n  FLOOR: 2,\n  DOOR: 3\n};\n\nexports.default = TILES;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGlsZXMuanM/MWIzMCJdLCJuYW1lcyI6WyJUSUxFUyIsIkVNUFRZIiwiV0FMTCIsIkZMT09SIiwiRE9PUiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxRQUFRO0FBQ1pDLFNBQU8sQ0FESztBQUVaQyxRQUFNLENBRk07QUFHWkMsU0FBTyxDQUhLO0FBSVpDLFFBQU07QUFKTSxDQUFkOztrQkFPZUosSyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVElMRVMgPSB7XHJcbiAgRU1QVFk6IDAsXHJcbiAgV0FMTDogMSxcclxuICBGTE9PUjogMixcclxuICBET09SOiAzXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUSUxFUztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3RpbGVzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nmodule.exports = __webpack_require__(2).default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUIsbUJBQUFDLENBQVEsQ0FBUixFQUF3QkMsT0FBekMiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vRHVuZ2Vvbi5qc1wiKS5kZWZhdWx0O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(3);\n\nvar _Room = __webpack_require__(4);\n\nvar _Room2 = _interopRequireDefault(_Room);\n\nvar _tiles = __webpack_require__(0);\n\nvar _tiles2 = _interopRequireDefault(_tiles);\n\nvar _debug = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Dungeon = function () {\n  function Dungeon() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Dungeon);\n\n    config = Object.assign({}, {\n      width: 50,\n      height: 50,\n      rooms: {\n        width: { min: 5, max: 15, onlyOdd: false, onlyEven: false },\n        height: { min: 5, max: 15, onlyOdd: false, onlyEven: false },\n        maxArea: 150,\n        maxRooms: 50\n      }\n    }, config);\n\n    // Avoid an impossible maxArea\n    var minArea = config.rooms.width.min * config.rooms.height.min;\n    if (config.rooms.maxArea < minArea) config.rooms.maxArea = minArea;\n\n    this.width = config.width;\n    this.height = config.height;\n    this.roomConfig = config.rooms;\n    this.rooms = [];\n\n    // 2D grid matching map dimensions where every element contains an array of all the rooms in\n    // that location\n    this.roomGrid = [];\n\n    this.generate();\n    this.tiles = this.getTiles();\n  }\n\n  _createClass(Dungeon, [{\n    key: "drawToConsole",\n    value: function drawToConsole(config) {\n      (0, _debug.debugMap)(this, config);\n    }\n  }, {\n    key: "generate",\n    value: function generate() {\n      this.rooms = [];\n      this.roomGrid = [];\n\n      for (var y = 0; y < this.height; y++) {\n        this.roomGrid.push([]);\n        for (var x = 0; x < this.width; x++) {\n          this.roomGrid[y].push([]);\n        }\n      }\n\n      // Seed the map with a starting randomly sized room in the center of the map\n      var room = this.createRandomRoom();\n      room.setPosition(Math.floor(this.width / 2) - Math.floor(room.width / 2), Math.floor(this.height / 2) - Math.floor(room.height / 2));\n      this.addRoom(room);\n\n      // Continue generating rooms until we hit our cap or have hit our maximum iterations (generally\n      // due to not being able to fit any more rooms in the map)\n      var i = this.roomConfig.maxRooms * 5;\n      while (this.rooms.length < this.roomConfig.maxRooms && i > 0) {\n        this.generateRoom();\n        i -= 1;\n      }\n\n      // Now we want to randomly add doors between some of the rooms and other rooms they touch\n      for (var _i = 0; _i < this.rooms.length; _i++) {\n        // Find all rooms that we could connect with this one\n        var targets = this.getPotentiallyTouchingRooms(this.rooms[_i]);\n        for (var j = 0; j < targets.length; j++) {\n          // Make sure the rooms aren\'t already connected with a door\n          if (!this.rooms[_i].isConnectedTo(targets[j])) {\n            // 20% chance we add a door connecting the rooms\n            if (Math.random() < 0.2) {\n              var _findNewDoorLocation = this.findNewDoorLocation(this.rooms[_i], targets[j]),\n                  _findNewDoorLocation2 = _slicedToArray(_findNewDoorLocation, 2),\n                  door1 = _findNewDoorLocation2[0],\n                  door2 = _findNewDoorLocation2[1];\n\n              this.addDoor(door1);\n              this.addDoor(door2);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: "getRoomAt",\n    value: function getRoomAt(x, y) {\n      if (x < 0 || y < 0 || x >= this.width || y >= this.height) return null;else return this.roomGrid[y][x][0]; // Assumes 1 room per tile, which is valid for now\n    }\n  }, {\n    key: "getMappedTiles",\n    value: function getMappedTiles() {\n      var tileMapping = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      tileMapping = Object.assign({}, { empty: 0, wall: 1, floor: 2, door: 3 }, tileMapping);\n      return this.tiles.map(function (row) {\n        return row.map(function (tile) {\n          if (tile === _tiles2.default.EMPTY) return tileMapping.empty;else if (tile === _tiles2.default.WALL) return tileMapping.wall;else if (tile === _tiles2.default.FLOOR) return tileMapping.floor;else if (tile === _tiles2.default.DOOR) return tileMapping.door;\n        });\n      });\n    }\n  }, {\n    key: "addRoom",\n    value: function addRoom(room) {\n      // if the room won\'t fit, we don\'t add it\n      if (!this.canFitRoom(room)) return false;\n\n      this.rooms.push(room);\n\n      // Update all tiles in the roomGrid to indicate that this room is sitting on them\n      for (var y = room.top; y <= room.bottom; y++) {\n        for (var x = room.left; x <= room.right; x++) {\n          this.roomGrid[y][x].push(room);\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: "canFitRoom",\n    value: function canFitRoom(room) {\n      // Make sure the room fits inside the dungeon\n      if (room.x < 0 || room.x + room.width > this.width - 1) return false;\n      if (room.y < 0 || room.y + room.height > this.height - 1) return false;\n\n      // Make sure this room doesn\'t intersect any existing rooms\n      for (var i = 0; i < this.rooms.length; i++) {\n        if (room.overlaps(this.rooms[i])) return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: "createRandomRoom",\n    value: function createRandomRoom() {\n      var width = 0;\n      var height = 0;\n      var area = 0;\n\n      // Find width and height using min/max sizes while keeping under the maximum area\n      var config = this.roomConfig;\n      do {\n        width = (0, _utils.randomInteger)(config.width.min, config.width.max, {\n          onlyEven: config.width.onlyEven,\n          onlyOdd: config.width.onlyOdd\n        });\n        height = (0, _utils.randomInteger)(config.height.min, config.height.max, {\n          onlyEven: config.height.onlyEven,\n          onlyOdd: config.height.onlyOdd\n        });\n        area = width * height;\n      } while (area > config.maxArea);\n\n      return new _Room2.default(width, height);\n    }\n  }, {\n    key: "generateRoom",\n    value: function generateRoom() {\n      var room = this.createRandomRoom();\n\n      // Only allow 150 tries at placing the room\n      var i = 150;\n      while (i > 0) {\n        // Attempt to find another room to attach this one to\n        var result = this.findRoomAttachment(room);\n\n        room.setPosition(result.x, result.y);\n        // Try to add it. If successful, add the door between the rooms and break the loop.\n        if (this.addRoom(room)) {\n          var _findNewDoorLocation3 = this.findNewDoorLocation(room, result.target),\n              _findNewDoorLocation4 = _slicedToArray(_findNewDoorLocation3, 2),\n              door1 = _findNewDoorLocation4[0],\n              door2 = _findNewDoorLocation4[1];\n\n          this.addDoor(door1);\n          this.addDoor(door2);\n          break;\n        }\n\n        i -= 1;\n      }\n    }\n  }, {\n    key: "getTiles",\n    value: function getTiles() {\n      // Create the full map for the whole dungeon\n      var tiles = Array(this.height);\n      for (var y = 0; y < this.height; y++) {\n        tiles[y] = Array(this.width);\n        for (var x = 0; x < this.width; x++) {\n          tiles[y][x] = _tiles2.default.EMPTY;\n        }\n      }\n\n      // Fill in the map with details from each room\n      for (var i = 0; i < this.rooms.length; i++) {\n        var r = this.rooms[i];\n        for (var _y = 0; _y < r.height; _y++) {\n          for (var _x3 = 0; _x3 < r.width; _x3++) {\n            tiles[_y + r.y][_x3 + r.x] = r.tiles[_y][_x3];\n          }\n        }\n      }\n\n      return tiles;\n    }\n  }, {\n    key: "getPotentiallyTouchingRooms",\n    value: function getPotentiallyTouchingRooms(room) {\n      var touchingRooms = [];\n\n      // function that checks the list of rooms at a point in our grid for any potential touching\n      // rooms\n      var checkRoomList = function checkRoomList(x, y, rg) {\n        var r = rg[y][x];\n        for (var i = 0; i < r.length; i++) {\n          // make sure this room isn\'t the one we\'re searching around and that it isn\'t already in the\n          // list\n          if (r[i] != room && touchingRooms.indexOf(r[i]) < 0) {\n            // make sure this isn\'t a corner of the room (doors can\'t go into corners)\n            var lx = x - r[i].x;\n            var ly = y - r[i].y;\n            if (lx > 0 && lx < r[i].width - 1 || ly > 0 && ly < r[i].height - 1) {\n              touchingRooms.push(r[i]);\n            }\n          }\n        }\n      };\n\n      // iterate the north and south walls, looking for other rooms in those tile locations\n      for (var x = room.x + 1; x < room.x + room.width - 1; x++) {\n        checkRoomList(x, room.y, this.roomGrid);\n        checkRoomList(x, room.y + room.height - 1, this.roomGrid);\n      }\n\n      // iterate the west and east walls, looking for other rooms in those tile locations\n      for (var y = room.y + 1; y < room.y + room.height - 1; y++) {\n        checkRoomList(room.x, y, this.roomGrid);\n        checkRoomList(room.x + room.width - 1, y, this.roomGrid);\n      }\n\n      return touchingRooms;\n    }\n  }, {\n    key: "findNewDoorLocation",\n    value: function findNewDoorLocation(room1, room2) {\n      var door1 = { x: -1, y: -1 };\n      var door2 = { x: -1, y: -1 };\n\n      if (room1.y === room2.y - room1.height) {\n        // North\n        door1.x = door2.x = (0, _utils.randomInteger)(Math.floor(Math.max(room2.left, room1.left) + 1), Math.floor(Math.min(room2.right, room1.right) - 1));\n        door1.y = room1.y + room1.height - 1;\n        door2.y = room2.y;\n      } else if (room1.x == room2.x - room1.width) {\n        // West\n        door1.x = room1.x + room1.width - 1;\n        door2.x = room2.x;\n        door1.y = door2.y = (0, _utils.randomInteger)(Math.floor(Math.max(room2.top, room1.top) + 1), Math.floor(Math.min(room2.bottom, room1.bottom) - 1));\n      } else if (room1.x == room2.x + room2.width) {\n        // East\n        door1.x = room1.x;\n        door2.x = room2.x + room2.width - 1;\n        door1.y = door2.y = (0, _utils.randomInteger)(Math.floor(Math.max(room2.top, room1.top) + 1), Math.floor(Math.min(room2.bottom, room1.bottom) - 1));\n      } else if (room1.y == room2.y + room2.height) {\n        // South\n        door1.x = door2.x = (0, _utils.randomInteger)(Math.floor(Math.max(room2.left, room1.left) + 1), Math.floor(Math.min(room2.right, room1.right) - 1));\n        door1.y = room1.y;\n        door2.y = room2.y + room2.height - 1;\n      }\n\n      return [door1, door2];\n    }\n  }, {\n    key: "findRoomAttachment",\n    value: function findRoomAttachment(room) {\n      var r = (0, _utils.randomPick)(this.rooms);\n\n      var x = 0;\n      var y = 0;\n\n      // Randomly position this room on one of the sides of the random room\n      switch ((0, _utils.randomInteger)(0, 3)) {\n        // north\n        case 0:\n          x = (0, _utils.randomInteger)(r.x - room.width + 3, r.x + r.width - 2);\n          y = r.y - room.height;\n          break;\n        // west\n        case 1:\n          x = r.x - room.width;\n          y = (0, _utils.randomInteger)(r.y - room.height + 3, r.y + r.height - 2);\n          break;\n        // east\n        case 2:\n          x = r.x + r.width;\n          y = (0, _utils.randomInteger)(r.y - room.height + 3, r.y + r.height - 2);\n          break;\n        // south\n        case 3:\n          x = (0, _utils.randomInteger)(r.x - room.width + 3, r.x + r.width - 2);\n          y = r.y + r.height;\n          break;\n      }\n\n      // Return the position for this new room and the target room\n      return {\n        x: x,\n        y: y,\n        target: r\n      };\n    }\n  }, {\n    key: "addDoor",\n    value: function addDoor(doorPos) {\n      // Get all the rooms at the location of the door\n      var rooms = this.roomGrid[doorPos.y][doorPos.x];\n      for (var i = 0; i < rooms.length; i++) {\n        var r = rooms[i];\n\n        // convert the door position from world space to room space\n        var x = doorPos.x - r.x;\n        var y = doorPos.y - r.y;\n\n        // set the tile to be a door\n        r.tiles[y][x] = _tiles2.default.DOOR;\n      }\n    }\n  }]);\n\n  return Dungeon;\n}();\n\nexports.default = Dungeon;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvRHVuZ2Vvbi5qcz8wMTVhIl0sIm5hbWVzIjpbIkR1bmdlb24iLCJjb25maWciLCJPYmplY3QiLCJhc3NpZ24iLCJ3aWR0aCIsImhlaWdodCIsInJvb21zIiwibWluIiwibWF4Iiwib25seU9kZCIsIm9ubHlFdmVuIiwibWF4QXJlYSIsIm1heFJvb21zIiwibWluQXJlYSIsInJvb21Db25maWciLCJyb29tR3JpZCIsImdlbmVyYXRlIiwidGlsZXMiLCJnZXRUaWxlcyIsInkiLCJwdXNoIiwieCIsInJvb20iLCJjcmVhdGVSYW5kb21Sb29tIiwic2V0UG9zaXRpb24iLCJNYXRoIiwiZmxvb3IiLCJhZGRSb29tIiwiaSIsImxlbmd0aCIsImdlbmVyYXRlUm9vbSIsInRhcmdldHMiLCJnZXRQb3RlbnRpYWxseVRvdWNoaW5nUm9vbXMiLCJqIiwiaXNDb25uZWN0ZWRUbyIsInJhbmRvbSIsImZpbmROZXdEb29yTG9jYXRpb24iLCJkb29yMSIsImRvb3IyIiwiYWRkRG9vciIsInRpbGVNYXBwaW5nIiwiZW1wdHkiLCJ3YWxsIiwiZG9vciIsIm1hcCIsInJvdyIsInRpbGUiLCJFTVBUWSIsIldBTEwiLCJGTE9PUiIsIkRPT1IiLCJjYW5GaXRSb29tIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwib3ZlcmxhcHMiLCJhcmVhIiwicmVzdWx0IiwiZmluZFJvb21BdHRhY2htZW50IiwidGFyZ2V0IiwiQXJyYXkiLCJyIiwidG91Y2hpbmdSb29tcyIsImNoZWNrUm9vbUxpc3QiLCJyZyIsImluZGV4T2YiLCJseCIsImx5Iiwicm9vbTEiLCJyb29tMiIsImRvb3JQb3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztJQUVxQkEsTztBQUNuQixxQkFBeUI7QUFBQSxRQUFiQyxNQUFhLHVFQUFKLEVBQUk7O0FBQUE7O0FBQ3ZCQSxhQUFTQyxPQUFPQyxNQUFQLENBQ1AsRUFETyxF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QUFnQixnQkFBTTZCLElBQXRCO0FBQ0Q7QUFDRjs7Ozs7O2tCQXBVa0JsRCxPIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5kb21JbnRlZ2VyLCByYW5kb21QaWNrIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcclxuaW1wb3J0IFJvb20gZnJvbSBcIi4vUm9vbS5qc1wiO1xyXG5pbXBvcnQgVElMRVMgZnJvbSBcIi4vdGlsZXMuanNcIjtcclxuaW1wb3J0IHsgZGVidWdNYXAsIGRlYnVnUm9vbUdyaWQgfSBmcm9tIFwiLi9kZWJ1Z1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHVuZ2VvbiB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcclxuICAgIGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgIHt9LFxyXG4gICAgICB7XHJcbiAgICAgICAgd2lkdGg6IDUwLFxyXG4gICAgICAgIGhlaWdodDogNTAsXHJcbiAgICAgICAgcm9vbXM6IHtcclxuICAgICAgICAgIHdpZHRoOiB7IG1pbjogNSwgbWF4OiAxNSwgb25seU9kZDogZmFsc2UsIG9ubHlFdmVuOiBmYWxzZSB9LFxyXG4gICAgICAgICAgaGVpZ2h0OiB7IG1pbjogNSwgbWF4OiAxNSwgb25seU9kZDogZmFsc2UsIG9ubHlFdmVuOiBmYWxzZSB9LFxyXG4gICAgICAgICAgbWF4QXJlYTogMTUwLFxyXG4gICAgICAgICAgbWF4Um9vbXM6IDUwXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBjb25maWdcclxuICAgICk7XHJcblxyXG4gICAgLy8gQXZvaWQgYW4gaW1wb3NzaWJsZSBtYXhBcmVhXHJcbiAgICBjb25zdCBtaW5BcmVhID0gY29uZmlnLnJvb21zLndpZHRoLm1pbiAqIGNvbmZpZy5yb29tcy5oZWlnaHQubWluO1xyXG4gICAgaWYgKGNvbmZpZy5yb29tcy5tYXhBcmVhIDwgbWluQXJlYSkgY29uZmlnLnJvb21zLm1heEFyZWEgPSBtaW5BcmVhO1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBjb25maWcud2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IGNvbmZpZy5oZWlnaHQ7XHJcbiAgICB0aGlzLnJvb21Db25maWcgPSBjb25maWcucm9vbXM7XHJcbiAgICB0aGlzLnJvb21zID0gW107XHJcblxyXG4gICAgLy8gMkQgZ3JpZCBtYXRjaGluZyBtYXAgZGltZW5zaW9ucyB3aGVyZSBldmVyeSBlbGVtZW50IGNvbnRhaW5zIGFuIGFycmF5IG9mIGFsbCB0aGUgcm9vbXMgaW5cclxuICAgIC8vIHRoYXQgbG9jYXRpb25cclxuICAgIHRoaXMucm9vbUdyaWQgPSBbXTtcclxuXHJcbiAgICB0aGlzLmdlbmVyYXRlKCk7XHJcbiAgICB0aGlzLnRpbGVzID0gdGhpcy5nZXRUaWxlcygpO1xyXG4gIH1cclxuXHJcbiAgZHJhd1RvQ29uc29sZShjb25maWcpIHtcclxuICAgIGRlYnVnTWFwKHRoaXMsIGNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZSgpIHtcclxuICAgIHRoaXMucm9vbXMgPSBbXTtcclxuICAgIHRoaXMucm9vbUdyaWQgPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaGVpZ2h0OyB5KyspIHtcclxuICAgICAgdGhpcy5yb29tR3JpZC5wdXNoKFtdKTtcclxuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcclxuICAgICAgICB0aGlzLnJvb21HcmlkW3ldLnB1c2goW10pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2VlZCB0aGUgbWFwIHdpdGggYSBzdGFydGluZyByYW5kb21seSBzaXplZCByb29tIGluIHRoZSBjZW50ZXIgb2YgdGhlIG1hcFxyXG4gICAgY29uc3Qgcm9vbSA9IHRoaXMuY3JlYXRlUmFuZG9tUm9vbSgpO1xyXG4gICAgcm9vbS5zZXRQb3NpdGlvbihcclxuICAgICAgTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMikgLSBNYXRoLmZsb29yKHJvb20ud2lkdGggLyAyKSxcclxuICAgICAgTWF0aC5mbG9vcih0aGlzLmhlaWdodCAvIDIpIC0gTWF0aC5mbG9vcihyb29tLmhlaWdodCAvIDIpXHJcbiAgICApO1xyXG4gICAgdGhpcy5hZGRSb29tKHJvb20pO1xyXG5cclxuICAgIC8vIENvbnRpbnVlIGdlbmVyYXRpbmcgcm9vbXMgdW50aWwgd2UgaGl0IG91ciBjYXAgb3IgaGF2ZSBoaXQgb3VyIG1heGltdW0gaXRlcmF0aW9ucyAoZ2VuZXJhbGx5XHJcbiAgICAvLyBkdWUgdG8gbm90IGJlaW5nIGFibGUgdG8gZml0IGFueSBtb3JlIHJvb21zIGluIHRoZSBtYXApXHJcbiAgICBsZXQgaSA9IHRoaXMucm9vbUNvbmZpZy5tYXhSb29tcyAqIDU7XHJcbiAgICB3aGlsZSAodGhpcy5yb29tcy5sZW5ndGggPCB0aGlzLnJvb21Db25maWcubWF4Um9vbXMgJiYgaSA+IDApIHtcclxuICAgICAgdGhpcy5nZW5lcmF0ZVJvb20oKTtcclxuICAgICAgaSAtPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vdyB3ZSB3YW50IHRvIHJhbmRvbWx5IGFkZCBkb29ycyBiZXR3ZWVuIHNvbWUgb2YgdGhlIHJvb21zIGFuZCBvdGhlciByb29tcyB0aGV5IHRvdWNoXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm9vbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gRmluZCBhbGwgcm9vbXMgdGhhdCB3ZSBjb3VsZCBjb25uZWN0IHdpdGggdGhpcyBvbmVcclxuICAgICAgY29uc3QgdGFyZ2V0cyA9IHRoaXMuZ2V0UG90ZW50aWFsbHlUb3VjaGluZ1Jvb21zKHRoaXMucm9vbXNbaV0pO1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRhcmdldHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHJvb21zIGFyZW4ndCBhbHJlYWR5IGNvbm5lY3RlZCB3aXRoIGEgZG9vclxyXG4gICAgICAgIGlmICghdGhpcy5yb29tc1tpXS5pc0Nvbm5lY3RlZFRvKHRhcmdldHNbal0pKSB7XHJcbiAgICAgICAgICAvLyAyMCUgY2hhbmNlIHdlIGFkZCBhIGRvb3IgY29ubmVjdGluZyB0aGUgcm9vbXNcclxuICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFtkb29yMSwgZG9vcjJdID0gdGhpcy5maW5kTmV3RG9vckxvY2F0aW9uKHRoaXMucm9vbXNbaV0sIHRhcmdldHNbal0pO1xyXG4gICAgICAgICAgICB0aGlzLmFkZERvb3IoZG9vcjEpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZERvb3IoZG9vcjIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Um9vbUF0KHgsIHkpIHtcclxuICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMud2lkdGggfHwgeSA+PSB0aGlzLmhlaWdodCkgcmV0dXJuIG51bGw7XHJcbiAgICBlbHNlIHJldHVybiB0aGlzLnJvb21HcmlkW3ldW3hdWzBdOyAvLyBBc3N1bWVzIDEgcm9vbSBwZXIgdGlsZSwgd2hpY2ggaXMgdmFsaWQgZm9yIG5vd1xyXG4gIH1cclxuXHJcbiAgZ2V0TWFwcGVkVGlsZXModGlsZU1hcHBpbmcgPSB7fSkge1xyXG4gICAgdGlsZU1hcHBpbmcgPSBPYmplY3QuYXNzaWduKHt9LCB7IGVtcHR5OiAwLCB3YWxsOiAxLCBmbG9vcjogMiwgZG9vcjogMyB9LCB0aWxlTWFwcGluZyk7XHJcbiAgICByZXR1cm4gdGhpcy50aWxlcy5tYXAocm93ID0+XHJcbiAgICAgIHJvdy5tYXAodGlsZSA9PiB7XHJcbiAgICAgICAgaWYgKHRpbGUgPT09IFRJTEVTLkVNUFRZKSByZXR1cm4gdGlsZU1hcHBpbmcuZW1wdHk7XHJcbiAgICAgICAgZWxzZSBpZiAodGlsZSA9PT0gVElMRVMuV0FMTCkgcmV0dXJuIHRpbGVNYXBwaW5nLndhbGw7XHJcbiAgICAgICAgZWxzZSBpZiAodGlsZSA9PT0gVElMRVMuRkxPT1IpIHJldHVybiB0aWxlTWFwcGluZy5mbG9vcjtcclxuICAgICAgICBlbHNlIGlmICh0aWxlID09PSBUSUxFUy5ET09SKSByZXR1cm4gdGlsZU1hcHBpbmcuZG9vcjtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhZGRSb29tKHJvb20pIHtcclxuICAgIC8vIGlmIHRoZSByb29tIHdvbid0IGZpdCwgd2UgZG9uJ3QgYWRkIGl0XHJcbiAgICBpZiAoIXRoaXMuY2FuRml0Um9vbShyb29tKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHRoaXMucm9vbXMucHVzaChyb29tKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgYWxsIHRpbGVzIGluIHRoZSByb29tR3JpZCB0byBpbmRpY2F0ZSB0aGF0IHRoaXMgcm9vbSBpcyBzaXR0aW5nIG9uIHRoZW1cclxuICAgIGZvciAobGV0IHkgPSByb29tLnRvcDsgeSA8PSByb29tLmJvdHRvbTsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHggPSByb29tLmxlZnQ7IHggPD0gcm9vbS5yaWdodDsgeCsrKSB7XHJcbiAgICAgICAgdGhpcy5yb29tR3JpZFt5XVt4XS5wdXNoKHJvb20pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBjYW5GaXRSb29tKHJvb20pIHtcclxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgcm9vbSBmaXRzIGluc2lkZSB0aGUgZHVuZ2VvblxyXG4gICAgaWYgKHJvb20ueCA8IDAgfHwgcm9vbS54ICsgcm9vbS53aWR0aCA+IHRoaXMud2lkdGggLSAxKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAocm9vbS55IDwgMCB8fCByb29tLnkgKyByb29tLmhlaWdodCA+IHRoaXMuaGVpZ2h0IC0gMSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIC8vIE1ha2Ugc3VyZSB0aGlzIHJvb20gZG9lc24ndCBpbnRlcnNlY3QgYW55IGV4aXN0aW5nIHJvb21zXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm9vbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHJvb20ub3ZlcmxhcHModGhpcy5yb29tc1tpXSkpIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZVJhbmRvbVJvb20oKSB7XHJcbiAgICBsZXQgd2lkdGggPSAwO1xyXG4gICAgbGV0IGhlaWdodCA9IDA7XHJcbiAgICBsZXQgYXJlYSA9IDA7XHJcblxyXG4gICAgLy8gRmluZCB3aWR0aCBhbmQgaGVpZ2h0IHVzaW5nIG1pbi9tYXggc2l6ZXMgd2hpbGUga2VlcGluZyB1bmRlciB0aGUgbWF4aW11bSBhcmVhXHJcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLnJvb21Db25maWc7XHJcbiAgICBkbyB7XHJcbiAgICAgIHdpZHRoID0gcmFuZG9tSW50ZWdlcihjb25maWcud2lkdGgubWluLCBjb25maWcud2lkdGgubWF4LCB7XHJcbiAgICAgICAgb25seUV2ZW46IGNvbmZpZy53aWR0aC5vbmx5RXZlbixcclxuICAgICAgICBvbmx5T2RkOiBjb25maWcud2lkdGgub25seU9kZFxyXG4gICAgICB9KTtcclxuICAgICAgaGVpZ2h0ID0gcmFuZG9tSW50ZWdlcihjb25maWcuaGVpZ2h0Lm1pbiwgY29uZmlnLmhlaWdodC5tYXgsIHtcclxuICAgICAgICBvbmx5RXZlbjogY29uZmlnLmhlaWdodC5vbmx5RXZlbixcclxuICAgICAgICBvbmx5T2RkOiBjb25maWcuaGVpZ2h0Lm9ubHlPZGRcclxuICAgICAgfSk7XHJcbiAgICAgIGFyZWEgPSB3aWR0aCAqIGhlaWdodDtcclxuICAgIH0gd2hpbGUgKGFyZWEgPiBjb25maWcubWF4QXJlYSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBSb29tKHdpZHRoLCBoZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVSb29tKCkge1xyXG4gICAgY29uc3Qgcm9vbSA9IHRoaXMuY3JlYXRlUmFuZG9tUm9vbSgpO1xyXG5cclxuICAgIC8vIE9ubHkgYWxsb3cgMTUwIHRyaWVzIGF0IHBsYWNpbmcgdGhlIHJvb21cclxuICAgIGxldCBpID0gMTUwO1xyXG4gICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgIC8vIEF0dGVtcHQgdG8gZmluZCBhbm90aGVyIHJvb20gdG8gYXR0YWNoIHRoaXMgb25lIHRvXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZmluZFJvb21BdHRhY2htZW50KHJvb20pO1xyXG5cclxuICAgICAgcm9vbS5zZXRQb3NpdGlvbihyZXN1bHQueCwgcmVzdWx0LnkpO1xyXG4gICAgICAvLyBUcnkgdG8gYWRkIGl0LiBJZiBzdWNjZXNzZnVsLCBhZGQgdGhlIGRvb3IgYmV0d2VlbiB0aGUgcm9vbXMgYW5kIGJyZWFrIHRoZSBsb29wLlxyXG4gICAgICBpZiAodGhpcy5hZGRSb29tKHJvb20pKSB7XHJcbiAgICAgICAgY29uc3QgW2Rvb3IxLCBkb29yMl0gPSB0aGlzLmZpbmROZXdEb29yTG9jYXRpb24ocm9vbSwgcmVzdWx0LnRhcmdldCk7XHJcbiAgICAgICAgdGhpcy5hZGREb29yKGRvb3IxKTtcclxuICAgICAgICB0aGlzLmFkZERvb3IoZG9vcjIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpIC09IDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRUaWxlcygpIHtcclxuICAgIC8vIENyZWF0ZSB0aGUgZnVsbCBtYXAgZm9yIHRoZSB3aG9sZSBkdW5nZW9uXHJcbiAgICBjb25zdCB0aWxlcyA9IEFycmF5KHRoaXMuaGVpZ2h0KTtcclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xyXG4gICAgICB0aWxlc1t5XSA9IEFycmF5KHRoaXMud2lkdGgpO1xyXG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xyXG4gICAgICAgIHRpbGVzW3ldW3hdID0gVElMRVMuRU1QVFk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBGaWxsIGluIHRoZSBtYXAgd2l0aCBkZXRhaWxzIGZyb20gZWFjaCByb29tXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm9vbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgciA9IHRoaXMucm9vbXNbaV07XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgci5oZWlnaHQ7IHkrKykge1xyXG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgci53aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgICB0aWxlc1t5ICsgci55XVt4ICsgci54XSA9IHIudGlsZXNbeV1beF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRpbGVzO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG90ZW50aWFsbHlUb3VjaGluZ1Jvb21zKHJvb20pIHtcclxuICAgIGNvbnN0IHRvdWNoaW5nUm9vbXMgPSBbXTtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiB0aGF0IGNoZWNrcyB0aGUgbGlzdCBvZiByb29tcyBhdCBhIHBvaW50IGluIG91ciBncmlkIGZvciBhbnkgcG90ZW50aWFsIHRvdWNoaW5nXHJcbiAgICAvLyByb29tc1xyXG4gICAgY29uc3QgY2hlY2tSb29tTGlzdCA9IGZ1bmN0aW9uKHgsIHksIHJnKSB7XHJcbiAgICAgIGNvbnN0IHIgPSByZ1t5XVt4XTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoaXMgcm9vbSBpc24ndCB0aGUgb25lIHdlJ3JlIHNlYXJjaGluZyBhcm91bmQgYW5kIHRoYXQgaXQgaXNuJ3QgYWxyZWFkeSBpbiB0aGVcclxuICAgICAgICAvLyBsaXN0XHJcbiAgICAgICAgaWYgKHJbaV0gIT0gcm9vbSAmJiB0b3VjaGluZ1Jvb21zLmluZGV4T2YocltpXSkgPCAwKSB7XHJcbiAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhpcyBpc24ndCBhIGNvcm5lciBvZiB0aGUgcm9vbSAoZG9vcnMgY2FuJ3QgZ28gaW50byBjb3JuZXJzKVxyXG4gICAgICAgICAgY29uc3QgbHggPSB4IC0gcltpXS54O1xyXG4gICAgICAgICAgY29uc3QgbHkgPSB5IC0gcltpXS55O1xyXG4gICAgICAgICAgaWYgKChseCA+IDAgJiYgbHggPCByW2ldLndpZHRoIC0gMSkgfHwgKGx5ID4gMCAmJiBseSA8IHJbaV0uaGVpZ2h0IC0gMSkpIHtcclxuICAgICAgICAgICAgdG91Y2hpbmdSb29tcy5wdXNoKHJbaV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBpdGVyYXRlIHRoZSBub3J0aCBhbmQgc291dGggd2FsbHMsIGxvb2tpbmcgZm9yIG90aGVyIHJvb21zIGluIHRob3NlIHRpbGUgbG9jYXRpb25zXHJcbiAgICBmb3IgKGxldCB4ID0gcm9vbS54ICsgMTsgeCA8IHJvb20ueCArIHJvb20ud2lkdGggLSAxOyB4KyspIHtcclxuICAgICAgY2hlY2tSb29tTGlzdCh4LCByb29tLnksIHRoaXMucm9vbUdyaWQpO1xyXG4gICAgICBjaGVja1Jvb21MaXN0KHgsIHJvb20ueSArIHJvb20uaGVpZ2h0IC0gMSwgdGhpcy5yb29tR3JpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaXRlcmF0ZSB0aGUgd2VzdCBhbmQgZWFzdCB3YWxscywgbG9va2luZyBmb3Igb3RoZXIgcm9vbXMgaW4gdGhvc2UgdGlsZSBsb2NhdGlvbnNcclxuICAgIGZvciAobGV0IHkgPSByb29tLnkgKyAxOyB5IDwgcm9vbS55ICsgcm9vbS5oZWlnaHQgLSAxOyB5KyspIHtcclxuICAgICAgY2hlY2tSb29tTGlzdChyb29tLngsIHksIHRoaXMucm9vbUdyaWQpO1xyXG4gICAgICBjaGVja1Jvb21MaXN0KHJvb20ueCArIHJvb20ud2lkdGggLSAxLCB5LCB0aGlzLnJvb21HcmlkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdG91Y2hpbmdSb29tcztcclxuICB9XHJcblxyXG4gIGZpbmROZXdEb29yTG9jYXRpb24ocm9vbTEsIHJvb20yKSB7XHJcbiAgICBjb25zdCBkb29yMSA9IHsgeDogLTEsIHk6IC0xIH07XHJcbiAgICBjb25zdCBkb29yMiA9IHsgeDogLTEsIHk6IC0xIH07XHJcblxyXG4gICAgaWYgKHJvb20xLnkgPT09IHJvb20yLnkgLSByb29tMS5oZWlnaHQpIHtcclxuICAgICAgLy8gTm9ydGhcclxuICAgICAgZG9vcjEueCA9IGRvb3IyLnggPSByYW5kb21JbnRlZ2VyKFxyXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5tYXgocm9vbTIubGVmdCwgcm9vbTEubGVmdCkgKyAxKSxcclxuICAgICAgICBNYXRoLmZsb29yKE1hdGgubWluKHJvb20yLnJpZ2h0LCByb29tMS5yaWdodCkgLSAxKVxyXG4gICAgICApO1xyXG4gICAgICBkb29yMS55ID0gcm9vbTEueSArIHJvb20xLmhlaWdodCAtIDE7XHJcbiAgICAgIGRvb3IyLnkgPSByb29tMi55O1xyXG4gICAgfSBlbHNlIGlmIChyb29tMS54ID09IHJvb20yLnggLSByb29tMS53aWR0aCkge1xyXG4gICAgICAvLyBXZXN0XHJcbiAgICAgIGRvb3IxLnggPSByb29tMS54ICsgcm9vbTEud2lkdGggLSAxO1xyXG4gICAgICBkb29yMi54ID0gcm9vbTIueDtcclxuICAgICAgZG9vcjEueSA9IGRvb3IyLnkgPSByYW5kb21JbnRlZ2VyKFxyXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5tYXgocm9vbTIudG9wLCByb29tMS50b3ApICsgMSksXHJcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLm1pbihyb29tMi5ib3R0b20sIHJvb20xLmJvdHRvbSkgLSAxKVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmIChyb29tMS54ID09IHJvb20yLnggKyByb29tMi53aWR0aCkge1xyXG4gICAgICAvLyBFYXN0XHJcbiAgICAgIGRvb3IxLnggPSByb29tMS54O1xyXG4gICAgICBkb29yMi54ID0gcm9vbTIueCArIHJvb20yLndpZHRoIC0gMTtcclxuICAgICAgZG9vcjEueSA9IGRvb3IyLnkgPSByYW5kb21JbnRlZ2VyKFxyXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5tYXgocm9vbTIudG9wLCByb29tMS50b3ApICsgMSksXHJcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLm1pbihyb29tMi5ib3R0b20sIHJvb20xLmJvdHRvbSkgLSAxKVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmIChyb29tMS55ID09IHJvb20yLnkgKyByb29tMi5oZWlnaHQpIHtcclxuICAgICAgLy8gU291dGhcclxuICAgICAgZG9vcjEueCA9IGRvb3IyLnggPSByYW5kb21JbnRlZ2VyKFxyXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5tYXgocm9vbTIubGVmdCwgcm9vbTEubGVmdCkgKyAxKSxcclxuICAgICAgICBNYXRoLmZsb29yKE1hdGgubWluKHJvb20yLnJpZ2h0LCByb29tMS5yaWdodCkgLSAxKVxyXG4gICAgICApO1xyXG4gICAgICBkb29yMS55ID0gcm9vbTEueTtcclxuICAgICAgZG9vcjIueSA9IHJvb20yLnkgKyByb29tMi5oZWlnaHQgLSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbZG9vcjEsIGRvb3IyXTtcclxuICB9XHJcblxyXG4gIGZpbmRSb29tQXR0YWNobWVudChyb29tKSB7XHJcbiAgICBjb25zdCByID0gcmFuZG9tUGljayh0aGlzLnJvb21zKTtcclxuXHJcbiAgICBsZXQgeCA9IDA7XHJcbiAgICBsZXQgeSA9IDA7XHJcblxyXG4gICAgLy8gUmFuZG9tbHkgcG9zaXRpb24gdGhpcyByb29tIG9uIG9uZSBvZiB0aGUgc2lkZXMgb2YgdGhlIHJhbmRvbSByb29tXHJcbiAgICBzd2l0Y2ggKHJhbmRvbUludGVnZXIoMCwgMykpIHtcclxuICAgICAgLy8gbm9ydGhcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICAgIHggPSByYW5kb21JbnRlZ2VyKHIueCAtIHJvb20ud2lkdGggKyAzLCByLnggKyByLndpZHRoIC0gMik7XHJcbiAgICAgICAgeSA9IHIueSAtIHJvb20uaGVpZ2h0O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyB3ZXN0XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICB4ID0gci54IC0gcm9vbS53aWR0aDtcclxuICAgICAgICB5ID0gcmFuZG9tSW50ZWdlcihyLnkgLSByb29tLmhlaWdodCArIDMsIHIueSArIHIuaGVpZ2h0IC0gMik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIC8vIGVhc3RcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIHggPSByLnggKyByLndpZHRoO1xyXG4gICAgICAgIHkgPSByYW5kb21JbnRlZ2VyKHIueSAtIHJvb20uaGVpZ2h0ICsgMywgci55ICsgci5oZWlnaHQgLSAyKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgLy8gc291dGhcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIHggPSByYW5kb21JbnRlZ2VyKHIueCAtIHJvb20ud2lkdGggKyAzLCByLnggKyByLndpZHRoIC0gMik7XHJcbiAgICAgICAgeSA9IHIueSArIHIuaGVpZ2h0O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiB0aGUgcG9zaXRpb24gZm9yIHRoaXMgbmV3IHJvb20gYW5kIHRoZSB0YXJnZXQgcm9vbVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDogeCxcclxuICAgICAgeTogeSxcclxuICAgICAgdGFyZ2V0OiByXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgYWRkRG9vcihkb29yUG9zKSB7XHJcbiAgICAvLyBHZXQgYWxsIHRoZSByb29tcyBhdCB0aGUgbG9jYXRpb24gb2YgdGhlIGRvb3JcclxuICAgIGNvbnN0IHJvb21zID0gdGhpcy5yb29tR3JpZFtkb29yUG9zLnldW2Rvb3JQb3MueF07XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb21zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHIgPSByb29tc1tpXTtcclxuXHJcbiAgICAgIC8vIGNvbnZlcnQgdGhlIGRvb3IgcG9zaXRpb24gZnJvbSB3b3JsZCBzcGFjZSB0byByb29tIHNwYWNlXHJcbiAgICAgIGNvbnN0IHggPSBkb29yUG9zLnggLSByLng7XHJcbiAgICAgIGNvbnN0IHkgPSBkb29yUG9zLnkgLSByLnk7XHJcblxyXG4gICAgICAvLyBzZXQgdGhlIHRpbGUgdG8gYmUgYSBkb29yXHJcbiAgICAgIHIudGlsZXNbeV1beF0gPSBUSUxFUy5ET09SO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvRHVuZ2Vvbi5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.randomInteger = randomInteger;\nexports.randomEvenInteger = randomEvenInteger;\nexports.randomOddInteger = randomOddInteger;\nexports.randomPick = randomPick;\nfunction randomInteger(min, max) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$onlyOdd = _ref.onlyOdd,\n      onlyOdd = _ref$onlyOdd === undefined ? false : _ref$onlyOdd,\n      _ref$onlyEven = _ref.onlyEven,\n      onlyEven = _ref$onlyEven === undefined ? false : _ref$onlyEven;\n\n  if (onlyOdd) return randomOddInteger(min, max);else if (onlyEven) return randomEvenInteger(min, max);else return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction randomEvenInteger(min, max) {\n  if (min % 2 !== 0 && min < max) min++;\n  if (max % 2 !== 0 && max > min) max--;\n  var range = (max - min) / 2;\n  return Math.floor(Math.random() * (range + 1)) * 2 + min;\n}\n\nfunction randomOddInteger(min, max) {\n  if (min % 2 === 0) min++;\n  if (max % 2 === 0) max--;\n  var range = (max - min) / 2;\n  return Math.floor(Math.random() * (range + 1)) * 2 + min;\n}\n\nfunction randomPick(array) {\n  return array[randomInteger(0, array.length - 1)];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanM/MmZmOCJdLCJuYW1lcyI6WyJyYW5kb21JbnRlZ2VyIiwicmFuZG9tRXZlbkludGVnZXIiLCJyYW5kb21PZGRJbnRlZ2VyIiwicmFuZG9tUGljayIsIm1pbiIsIm1heCIsIm9ubHlPZGQiLCJvbmx5RXZlbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmdlIiwiYXJyYXkiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7O1FBQWdCQSxhLEdBQUFBLGE7UUFNQUMsaUIsR0FBQUEsaUI7UUFPQUMsZ0IsR0FBQUEsZ0I7UUFPQUMsVSxHQUFBQSxVO0FBcEJULFNBQVNILGFBQVQsQ0FBdUJJLEdBQXZCLEVBQTRCQyxHQUE1QixFQUE2RTtBQUFBLGlGQUFKLEVBQUk7QUFBQSwwQkFBMUNDLE9BQTBDO0FBQUEsTUFBMUNBLE9BQTBDLGdDQUFoQyxLQUFnQztBQUFBLDJCQUF6QkMsUUFBeUI7QUFBQSxNQUF6QkEsUUFBeUIsaUNBQWQsS0FBYzs7QUFDbEYsTUFBSUQsT0FBSixFQUFhLE9BQU9KLGlCQUFpQkUsR0FBakIsRUFBc0JDLEdBQXRCLENBQVAsQ0FBYixLQUNLLElBQUlFLFFBQUosRUFBYyxPQUFPTixrQkFBa0JHLEdBQWxCLEVBQXVCQyxHQUF2QixDQUFQLENBQWQsS0FDQSxPQUFPRyxLQUFLQyxLQUFMLENBQVdELEtBQUtFLE1BQUwsTUFBaUJMLE1BQU1ELEdBQU4sR0FBWSxDQUE3QixJQUFrQ0EsR0FBN0MsQ0FBUDtBQUNOOztBQUVNLFNBQVNILGlCQUFULENBQTJCRyxHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUM7QUFDMUMsTUFBSUQsTUFBTSxDQUFOLEtBQVksQ0FBWixJQUFpQkEsTUFBTUMsR0FBM0IsRUFBZ0NEO0FBQ2hDLE1BQUlDLE1BQU0sQ0FBTixLQUFZLENBQVosSUFBaUJBLE1BQU1ELEdBQTNCLEVBQWdDQztBQUNoQyxNQUFNTSxRQUFRLENBQUNOLE1BQU1ELEdBQVAsSUFBYyxDQUE1QjtBQUNBLFNBQU9JLEtBQUtDLEtBQUwsQ0FBV0QsS0FBS0UsTUFBTCxNQUFpQkMsUUFBUSxDQUF6QixDQUFYLElBQTBDLENBQTFDLEdBQThDUCxHQUFyRDtBQUNEOztBQUVNLFNBQVNGLGdCQUFULENBQTBCRSxHQUExQixFQUErQkMsR0FBL0IsRUFBb0M7QUFDekMsTUFBSUQsTUFBTSxDQUFOLEtBQVksQ0FBaEIsRUFBbUJBO0FBQ25CLE1BQUlDLE1BQU0sQ0FBTixLQUFZLENBQWhCLEVBQW1CQTtBQUNuQixNQUFNTSxRQUFRLENBQUNOLE1BQU1ELEdBQVAsSUFBYyxDQUE1QjtBQUNBLFNBQU9JLEtBQUtDLEtBQUwsQ0FBV0QsS0FBS0UsTUFBTCxNQUFpQkMsUUFBUSxDQUF6QixDQUFYLElBQTBDLENBQTFDLEdBQThDUCxHQUFyRDtBQUNEOztBQUVNLFNBQVNELFVBQVQsQ0FBb0JTLEtBQXBCLEVBQTJCO0FBQ2hDLFNBQU9BLE1BQU1aLGNBQWMsQ0FBZCxFQUFpQlksTUFBTUMsTUFBTixHQUFlLENBQWhDLENBQU4sQ0FBUDtBQUNEIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcmFuZG9tSW50ZWdlcihtaW4sIG1heCwgeyBvbmx5T2RkID0gZmFsc2UsIG9ubHlFdmVuID0gZmFsc2UgfSA9IHt9KSB7XHJcbiAgaWYgKG9ubHlPZGQpIHJldHVybiByYW5kb21PZGRJbnRlZ2VyKG1pbiwgbWF4KTtcclxuICBlbHNlIGlmIChvbmx5RXZlbikgcmV0dXJuIHJhbmRvbUV2ZW5JbnRlZ2VyKG1pbiwgbWF4KTtcclxuICBlbHNlIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tRXZlbkludGVnZXIobWluLCBtYXgpIHtcclxuICBpZiAobWluICUgMiAhPT0gMCAmJiBtaW4gPCBtYXgpIG1pbisrO1xyXG4gIGlmIChtYXggJSAyICE9PSAwICYmIG1heCA+IG1pbikgbWF4LS07XHJcbiAgY29uc3QgcmFuZ2UgPSAobWF4IC0gbWluKSAvIDI7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChyYW5nZSArIDEpKSAqIDIgKyBtaW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21PZGRJbnRlZ2VyKG1pbiwgbWF4KSB7XHJcbiAgaWYgKG1pbiAlIDIgPT09IDApIG1pbisrO1xyXG4gIGlmIChtYXggJSAyID09PSAwKSBtYXgtLTtcclxuICBjb25zdCByYW5nZSA9IChtYXggLSBtaW4pIC8gMjtcclxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHJhbmdlICsgMSkpICogMiArIG1pbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVBpY2soYXJyYXkpIHtcclxuICByZXR1cm4gYXJyYXlbcmFuZG9tSW50ZWdlcigwLCBhcnJheS5sZW5ndGggLSAxKV07XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tiles = __webpack_require__(0);\n\nvar _tiles2 = _interopRequireDefault(_tiles);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Room = function () {\n  function Room(width, height) {\n    _classCallCheck(this, Room);\n\n    this.width = width;\n    this.height = height;\n\n    this.setPosition(0, 0);\n\n    this.doors = [];\n    this.tiles = [];\n\n    // Surround the room with walls, and fill the rest with floors.\n    for (var y = 0; y < this.height; y++) {\n      var row = [];\n      for (var x = 0; x < this.width; x++) {\n        if (y == 0 || y == this.height - 1 || x == 0 || x == this.width - 1) {\n          row.push(_tiles2.default.WALL);\n        } else {\n          row.push(_tiles2.default.FLOOR);\n        }\n      }\n      this.tiles.push(row);\n    }\n  }\n\n  _createClass(Room, [{\n    key: "setPosition",\n    value: function setPosition(x, y) {\n      this.x = x;\n      this.y = y;\n      this.left = x;\n      this.right = x + (this.width - 1);\n      this.top = y;\n      this.bottom = y + (this.height - 1);\n      this.centerX = x + Math.floor(this.width / 2);\n      this.centerY = y + Math.floor(this.height / 2);\n    }\n  }, {\n    key: "getDoorLocations",\n    value: function getDoorLocations() {\n      var doors = [];\n\n      // find all the doors and add their positions to the list\n      for (var y = 0; y < this.height; y++) {\n        for (var x = 0; x < this.width; x++) {\n          if (this.tiles[y][x] == _tiles2.default.DOOR) {\n            doors.push({ x: x, y: y });\n          }\n        }\n      }\n\n      return doors;\n    }\n  }, {\n    key: "overlaps",\n    value: function overlaps(otherRoom) {\n      if (this.right < otherRoom.left) return false;else if (this.left > otherRoom.right) return false;else if (this.bottom < otherRoom.top) return false;else if (this.top > otherRoom.bottom) return false;else return true;\n    }\n  }, {\n    key: "isConnectedTo",\n    value: function isConnectedTo(otherRoom) {\n      // iterate the doors in room1 and see if any are also a door in room2\n      var doors = this.getDoorLocations();\n      for (var i = 0; i < doors.length; i++) {\n        var d = doors[i];\n\n        // move the door into "world space" using room1\'s position\n        d.x += this.x;\n        d.y += this.y;\n\n        // move the door into room2 space by subtracting room2\'s position\n        d.x -= otherRoom.x;\n        d.y -= otherRoom.y;\n\n        // make sure the position is valid for room2\'s tiles array\n        if (d.x < 0 || d.x > otherRoom.width - 1 || d.y < 0 || d.y > otherRoom.height - 1) {\n          continue;\n        }\n\n        // see if the tile is a door; if so this is a door from room1 to room2 so the rooms are connected\n        if (otherRoom.tiles[d.y][d.x] == _tiles2.default.DOOR) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return Room;\n}();\n\nexports.default = Room;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvUm9vbS5qcz81MDdiIl0sIm5hbWVzIjpbIlJvb20iLCJ3aWR0aCIsImhlaWdodCIsInNldFBvc2l0aW9uIiwiZG9vcnMiLCJ0aWxlcyIsInkiLCJyb3ciLCJ4IiwicHVzaCIsIldBTEwiLCJGTE9PUiIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImNlbnRlclgiLCJNYXRoIiwiZmxvb3IiLCJjZW50ZXJZIiwiRE9PUiIsIm90aGVyUm9vbSIsImdldERvb3JMb2NhdGlvbnMiLCJpIiwibGVuZ3RoIiwiZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7SUFFcUJBLEk7QUFDbkIsZ0JBQVlDLEtBQVosRUFBbUJDLE1BQW5CLEVBQTJCO0FBQUE7O0FBQ3pCLFNBQUtELEtBQUwsR0FBYUEsS0FBYjtBQUNBLFNBQUtDLE1BQUwsR0FBY0EsTUFBZDs7QUFFQSxTQUFLQyxXQUFMLENBQWlCLENBQWpCLEVBQW9CLENBQXBCOztBQUVBLFNBQUtDLEtBQUwsR0FBYSxFQUFiO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEVBQWI7O0FBRUE7QUFDQSxTQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSSxLQUFLSixNQUF6QixFQUFpQ0ksR0FBakMsRUFBc0M7QUFDcEMsVUFBSUMsTUFBTSxFQUFWO0FBQ0EsV0FBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUksS0FBS1AsS0FBekIsRUFBZ0NPLEdBQWhDLEVBQXFDO0FBQ25DLFlBQUlGLEtBQUssQ0FBTCxJQUFVQSxLQUFLLEtBQUtKLE1BQUwsR0FBYyxDQUE3QixJQUFrQ00sS0FBSyxDQUF2QyxJQUE0Q0EsS0FBSyxLQUFLUCxLQUFMLEdBQWEsQ0FBbEUsRUFBcUU7QUFDbkVNLGNBQUlFLElBQUosQ0FBUyxnQkFBTUMsSUFBZjtBQUNELFNBRkQsTUFFTztBQUNMSCxjQUFJRSxJQUFKLENBQVMsZ0JBQU1FLEtBQWY7QUFDRDtBQUNGO0FBQ0QsV0FBS04sS0FBTCxDQUFXSSxJQUFYLENBQWdCRixHQUFoQjtBQUNEO0FBQ0Y7Ozs7Z0NBRVdDLEMsRUFBR0YsQyxFQUFHO0FBQ2hCLFdBQUtFLENBQUwsR0FBU0EsQ0FBVDtBQUNBLFdBQUtGLENBQUwsR0FBU0EsQ0FBVDtBQUNBLFdBQUtNLElBQUwsR0FBWUosQ0FBWjtBQUNBLFdBQUtLLEtBQUwsR0FBYUwsS0FBSyxLQUFLUCxLQUFMLEdBQWEsQ0FBbEIsQ0FBYjtBQUNBLFdBQUthLEdBQUwsR0FBV1IsQ0FBWDtBQUNBLFdBQUtTLE1BQUwsR0FBY1QsS0FBSyxLQUFLSixNQUFMLEdBQWMsQ0FBbkIsQ0FBZDtBQUNBLFdBQUtjLE9BQUwsR0FBZVIsSUFBSVMsS0FBS0MsS0FBTCxDQUFXLEtBQUtqQixLQUFMLEdBQWEsQ0FBeEIsQ0FBbkI7QUFDQSxXQUFLa0IsT0FBTCxHQUFlYixJQUFJVyxLQUFLQyxLQUFMLENBQVcsS0FBS2hCLE1BQUwsR0FBYyxDQUF6QixDQUFuQjtBQUNEOzs7dUNBRWtCO0FBQ2pCLFVBQUlFLFFBQVEsRUFBWjs7QUFFQTtBQUNBLFdBQUssSUFBSUUsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEtBQUtKLE1BQXpCLEVBQWlDSSxHQUFqQyxFQUFzQztBQUNwQyxhQUFLLElBQUlFLElBQUksQ0FBYixFQUFnQkEsSUFBSSxLQUFLUCxLQUF6QixFQUFnQ08sR0FBaEMsRUFBcUM7QUFDbkMsY0FBSSxLQUFLSCxLQUFMLENBQVdDLENBQVgsRUFBY0UsQ0FBZCxLQUFvQixnQkFBTVksSUFBOUIsRUFBb0M7QUFDbENoQixrQkFBTUssSUFBTixDQUFXLEVBQUVELEdBQUdBLENBQUwsRUFBUUYsR0FBR0EsQ0FBWCxFQUFYO0FBQ0Q7QUFDRjtBQUNGOztBQUVELGFBQU9GLEtBQVA7QUFDRDs7OzZCQUVRaUIsUyxFQUFXO0FBQ2xCLFVBQUksS0FBS1IsS0FBTCxHQUFhUSxVQUFVVCxJQUEzQixFQUFpQyxPQUFPLEtBQVAsQ0FBakMsS0FDSyxJQUFJLEtBQUtBLElBQUwsR0FBWVMsVUFBVVIsS0FBMUIsRUFBaUMsT0FBTyxLQUFQLENBQWpDLEtBQ0EsSUFBSSxLQUFLRSxNQUFMLEdBQWNNLFVBQVVQLEdBQTVCLEVBQWlDLE9BQU8sS0FBUCxDQUFqQyxLQUNBLElBQUksS0FBS0EsR0FBTCxHQUFXTyxVQUFVTixNQUF6QixFQUFpQyxPQUFPLEtBQVAsQ0FBakMsS0FDQSxPQUFPLElBQVA7QUFDTjs7O2tDQUVhTSxTLEVBQVc7QUFDdkI7QUFDQSxVQUFJakIsUUFBUSxLQUFLa0IsZ0JBQUwsRUFBWjtBQUNBLFdBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJbkIsTUFBTW9CLE1BQTFCLEVBQWtDRCxHQUFsQyxFQUF1QztBQUNyQyxZQUFJRSxJQUFJckIsTUFBTW1CLENBQU4sQ0FBUjs7QUFFQTtBQUNBRSxVQUFFakIsQ0FBRixJQUFPLEtBQUtBLENBQVo7QUFDQWlCLFVBQUVuQixDQUFGLElBQU8sS0FBS0EsQ0FBWjs7QUFFQTtBQUNBbUIsVUFBRWpCLENBQUYsSUFBT2EsVUFBVWIsQ0FBakI7QUFDQWlCLFVBQUVuQixDQUFGLElBQU9lLFVBQVVmLENBQWpCOztBQUVBO0FBQ0EsWUFBSW1CLEVBQUVqQixDQUFGLEdBQU0sQ0FBTixJQUFXaUIsRUFBRWpCLENBQUYsR0FBTWEsVUFBVXBCLEtBQVYsR0FBa0IsQ0FBbkMsSUFBd0N3QixFQUFFbkIsQ0FBRixHQUFNLENBQTlDLElBQW1EbUIsRUFBRW5CLENBQUYsR0FBTWUsVUFBVW5CLE1BQVYsR0FBbUIsQ0FBaEYsRUFBbUY7QUFDakY7QUFDRDs7QUFFRDtBQUNBLFlBQUltQixVQUFVaEIsS0FBVixDQUFnQm9CLEVBQUVuQixDQUFsQixFQUFxQm1CLEVBQUVqQixDQUF2QixLQUE2QixnQkFBTVksSUFBdkMsRUFBNkM7QUFDM0MsaUJBQU8sSUFBUDtBQUNEO0FBQ0Y7O0FBRUQsYUFBTyxLQUFQO0FBQ0Q7Ozs7OztrQkFwRmtCcEIsSSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRJTEVTIGZyb20gXCIuL3RpbGVzLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb29tIHtcclxuICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcbiAgICB0aGlzLnNldFBvc2l0aW9uKDAsIDApO1xyXG5cclxuICAgIHRoaXMuZG9vcnMgPSBbXTtcclxuICAgIHRoaXMudGlsZXMgPSBbXTtcclxuXHJcbiAgICAvLyBTdXJyb3VuZCB0aGUgcm9vbSB3aXRoIHdhbGxzLCBhbmQgZmlsbCB0aGUgcmVzdCB3aXRoIGZsb29ycy5cclxuICAgIGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xyXG4gICAgICB2YXIgcm93ID0gW107XHJcbiAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgaWYgKHkgPT0gMCB8fCB5ID09IHRoaXMuaGVpZ2h0IC0gMSB8fCB4ID09IDAgfHwgeCA9PSB0aGlzLndpZHRoIC0gMSkge1xyXG4gICAgICAgICAgcm93LnB1c2goVElMRVMuV0FMTCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJvdy5wdXNoKFRJTEVTLkZMT09SKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy50aWxlcy5wdXNoKHJvdyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMubGVmdCA9IHg7XHJcbiAgICB0aGlzLnJpZ2h0ID0geCArICh0aGlzLndpZHRoIC0gMSk7XHJcbiAgICB0aGlzLnRvcCA9IHk7XHJcbiAgICB0aGlzLmJvdHRvbSA9IHkgKyAodGhpcy5oZWlnaHQgLSAxKTtcclxuICAgIHRoaXMuY2VudGVyWCA9IHggKyBNYXRoLmZsb29yKHRoaXMud2lkdGggLyAyKTtcclxuICAgIHRoaXMuY2VudGVyWSA9IHkgKyBNYXRoLmZsb29yKHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgfVxyXG5cclxuICBnZXREb29yTG9jYXRpb25zKCkge1xyXG4gICAgdmFyIGRvb3JzID0gW107XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdGhlIGRvb3JzIGFuZCBhZGQgdGhlaXIgcG9zaXRpb25zIHRvIHRoZSBsaXN0XHJcbiAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHRoaXMuaGVpZ2h0OyB5KyspIHtcclxuICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcclxuICAgICAgICBpZiAodGhpcy50aWxlc1t5XVt4XSA9PSBUSUxFUy5ET09SKSB7XHJcbiAgICAgICAgICBkb29ycy5wdXNoKHsgeDogeCwgeTogeSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZG9vcnM7XHJcbiAgfVxyXG5cclxuICBvdmVybGFwcyhvdGhlclJvb20pIHtcclxuICAgIGlmICh0aGlzLnJpZ2h0IDwgb3RoZXJSb29tLmxlZnQpIHJldHVybiBmYWxzZTtcclxuICAgIGVsc2UgaWYgKHRoaXMubGVmdCA+IG90aGVyUm9vbS5yaWdodCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgZWxzZSBpZiAodGhpcy5ib3R0b20gPCBvdGhlclJvb20udG9wKSByZXR1cm4gZmFsc2U7XHJcbiAgICBlbHNlIGlmICh0aGlzLnRvcCA+IG90aGVyUm9vbS5ib3R0b20pIHJldHVybiBmYWxzZTtcclxuICAgIGVsc2UgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBpc0Nvbm5lY3RlZFRvKG90aGVyUm9vbSkge1xyXG4gICAgLy8gaXRlcmF0ZSB0aGUgZG9vcnMgaW4gcm9vbTEgYW5kIHNlZSBpZiBhbnkgYXJlIGFsc28gYSBkb29yIGluIHJvb20yXHJcbiAgICB2YXIgZG9vcnMgPSB0aGlzLmdldERvb3JMb2NhdGlvbnMoKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9vcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGQgPSBkb29yc1tpXTtcclxuXHJcbiAgICAgIC8vIG1vdmUgdGhlIGRvb3IgaW50byBcIndvcmxkIHNwYWNlXCIgdXNpbmcgcm9vbTEncyBwb3NpdGlvblxyXG4gICAgICBkLnggKz0gdGhpcy54O1xyXG4gICAgICBkLnkgKz0gdGhpcy55O1xyXG5cclxuICAgICAgLy8gbW92ZSB0aGUgZG9vciBpbnRvIHJvb20yIHNwYWNlIGJ5IHN1YnRyYWN0aW5nIHJvb20yJ3MgcG9zaXRpb25cclxuICAgICAgZC54IC09IG90aGVyUm9vbS54O1xyXG4gICAgICBkLnkgLT0gb3RoZXJSb29tLnk7XHJcblxyXG4gICAgICAvLyBtYWtlIHN1cmUgdGhlIHBvc2l0aW9uIGlzIHZhbGlkIGZvciByb29tMidzIHRpbGVzIGFycmF5XHJcbiAgICAgIGlmIChkLnggPCAwIHx8IGQueCA+IG90aGVyUm9vbS53aWR0aCAtIDEgfHwgZC55IDwgMCB8fCBkLnkgPiBvdGhlclJvb20uaGVpZ2h0IC0gMSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBzZWUgaWYgdGhlIHRpbGUgaXMgYSBkb29yOyBpZiBzbyB0aGlzIGlzIGEgZG9vciBmcm9tIHJvb20xIHRvIHJvb20yIHNvIHRoZSByb29tcyBhcmUgY29ubmVjdGVkXHJcbiAgICAgIGlmIChvdGhlclJvb20udGlsZXNbZC55XVtkLnhdID09IFRJTEVTLkRPT1IpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL1Jvb20uanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.debugRoomGrid = debugRoomGrid;\nexports.debugMap = debugMap;\n\nvar _tiles = __webpack_require__(0);\n\nvar _tiles2 = _interopRequireDefault(_tiles);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Debug by dumping a table to the console where each element in the map is the number of rooms in\n// that location\nfunction debugRoomGrid(dungeon) {\n  var table = dungeon.roomGrid.map(function (row) {\n    return row.map(function (elem) {\n      return ("" + elem.length).padStart(2);\n    });\n  });\n  console.log(table.map(function (row) {\n    return row.join(" ");\n  }).join("\\n"));\n}\n\n// Debug by returning a colored(!) table string where each tile in the map is represented with an\n// ASCII string\nfunction debugMap(dungeon) {\n  var _console;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  config = Object.assign({}, {\n    empty: " ",\n    emptyColor: "rgb(0, 0, 0)",\n    wall: "#",\n    wallColor: "rgb(255, 0, 0)",\n    floor: "_",\n    floorColor: "rgb(150, 150, 150)",\n    door: ".",\n    doorColor: "rgb(0, 0, 255)",\n    fontSize: "15px"\n  }, config);\n\n  var string = "";\n  var styles = [];\n  for (var y = 0; y < dungeon.height; y += 1) {\n    for (var x = 0; x < dungeon.width; x += 1) {\n      var tile = dungeon.tiles[y][x];\n      if (tile === _tiles2.default.EMPTY) {\n        string += "%c" + config.empty;\n        styles.push("color: " + config.emptyColor + "; font-size: " + config.fontSize);\n      } else if (tile === _tiles2.default.WALL) {\n        string += "%c" + config.wall;\n        styles.push("color: " + config.wallColor + "; font-size: " + config.fontSize);\n      } else if (tile === _tiles2.default.FLOOR) {\n        string += "%c" + config.floor;\n        styles.push("color: " + config.floorColor + "; font-size: " + config.fontSize);\n      } else if (tile === _tiles2.default.DOOR) {\n        string += "%c" + config.door;\n        styles.push("color: " + config.doorColor + "; font-size: " + config.fontSize);\n      }\n      string += " ";\n    }\n    string += "\\n";\n  }\n  (_console = console).log.apply(_console, [string].concat(styles));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGVidWcuanM/MTZjOSJdLCJuYW1lcyI6WyJkZWJ1Z1Jvb21HcmlkIiwiZGVidWdNYXAiLCJkdW5nZW9uIiwidGFibGUiLCJyb29tR3JpZCIsIm1hcCIsInJvdyIsImVsZW0iLCJsZW5ndGgiLCJwYWRTdGFydCIsImNvbnNvbGUiLCJsb2ciLCJqb2luIiwiY29uZmlnIiwiT2JqZWN0IiwiYXNzaWduIiwiZW1wdHkiLCJlbXB0eUNvbG9yIiwid2FsbCIsIndhbGxDb2xvciIsImZsb29yIiwiZmxvb3JDb2xvciIsImRvb3IiLCJkb29yQ29sb3IiLCJmb250U2l6ZSIsInN0cmluZyIsInN0eWxlcyIsInkiLCJoZWlnaHQiLCJ4Iiwid2lkdGgiLCJ0aWxlIiwidGlsZXMiLCJFTVBUWSIsInB1c2giLCJXQUxMIiwiRkxPT1IiLCJET09SIl0sIm1hcHBpbmdzIjoiOzs7OztRQUlnQkEsYSxHQUFBQSxhO1FBT0FDLFEsR0FBQUEsUTs7QUFYaEI7Ozs7OztBQUVBO0FBQ0E7QUFDTyxTQUFTRCxhQUFULENBQXVCRSxPQUF2QixFQUFnQztBQUNyQyxNQUFNQyxRQUFRRCxRQUFRRSxRQUFSLENBQWlCQyxHQUFqQixDQUFxQjtBQUFBLFdBQU9DLElBQUlELEdBQUosQ0FBUTtBQUFBLGFBQVEsTUFBR0UsS0FBS0MsTUFBUixFQUFpQkMsUUFBakIsQ0FBMEIsQ0FBMUIsQ0FBUjtBQUFBLEtBQVIsQ0FBUDtBQUFBLEdBQXJCLENBQWQ7QUFDQUMsVUFBUUMsR0FBUixDQUFZUixNQUFNRSxHQUFOLENBQVU7QUFBQSxXQUFPQyxJQUFJTSxJQUFKLENBQVMsR0FBVCxDQUFQO0FBQUEsR0FBVixFQUFnQ0EsSUFBaEMsQ0FBcUMsSUFBckMsQ0FBWjtBQUNEOztBQUVEO0FBQ0E7QUFDTyxTQUFTWCxRQUFULENBQWtCQyxPQUFsQixFQUF3QztBQUFBOztBQUFBLE1BQWJXLE1BQWEsdUVBQUosRUFBSTs7QUFDN0NBLFdBQVNDLE9BQU9DLE1BQVAsQ0FDUCxFQURPLEVBRVA7QUFDRUMsV0FBTyxHQURUO0FBRUVDLGdCQUFZLGNBRmQ7QUFHRUMsVUFBTSxHQUhSO0FBSUVDLGVBQVcsZ0JBSmI7QUFLRUMsV0FBTyxHQUxUO0FBTUVDLGdCQUFZLG9CQU5kO0FBT0VDLFVBQU0sR0FQUjtBQVFFQyxlQUFXLGdCQVJiO0FBU0VDLGNBQVU7QUFUWixHQUZPLEVBYVBYLE1BYk8sQ0FBVDs7QUFnQkEsTUFBSVksU0FBUyxFQUFiO0FBQ0EsTUFBSUMsU0FBUyxFQUFiO0FBQ0EsT0FBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUl6QixRQUFRMEIsTUFBNUIsRUFBb0NELEtBQUssQ0FBekMsRUFBNEM7QUFDMUMsU0FBSyxJQUFJRSxJQUFJLENBQWIsRUFBZ0JBLElBQUkzQixRQUFRNEIsS0FBNUIsRUFBbUNELEtBQUssQ0FBeEMsRUFBMkM7QUFDekMsVUFBTUUsT0FBTzdCLFFBQVE4QixLQUFSLENBQWNMLENBQWQsRUFBaUJFLENBQWpCLENBQWI7QUFDQSxVQUFJRSxTQUFTLGdCQUFNRSxLQUFuQixFQUEwQjtBQUN4QlIseUJBQWVaLE9BQU9HLEtBQXRCO0FBQ0FVLGVBQU9RLElBQVAsYUFBc0JyQixPQUFPSSxVQUE3QixxQkFBdURKLE9BQU9XLFFBQTlEO0FBQ0QsT0FIRCxNQUdPLElBQUlPLFNBQVMsZ0JBQU1JLElBQW5CLEVBQXlCO0FBQzlCVix5QkFBZVosT0FBT0ssSUFBdEI7QUFDQVEsZUFBT1EsSUFBUCxhQUFzQnJCLE9BQU9NLFNBQTdCLHFCQUFzRE4sT0FBT1csUUFBN0Q7QUFDRCxPQUhNLE1BR0EsSUFBSU8sU0FBUyxnQkFBTUssS0FBbkIsRUFBMEI7QUFDL0JYLHlCQUFlWixPQUFPTyxLQUF0QjtBQUNBTSxlQUFPUSxJQUFQLGFBQXNCckIsT0FBT1EsVUFBN0IscUJBQXVEUixPQUFPVyxRQUE5RDtBQUNELE9BSE0sTUFHQSxJQUFJTyxTQUFTLGdCQUFNTSxJQUFuQixFQUF5QjtBQUM5QloseUJBQWVaLE9BQU9TLElBQXRCO0FBQ0FJLGVBQU9RLElBQVAsYUFBc0JyQixPQUFPVSxTQUE3QixxQkFBc0RWLE9BQU9XLFFBQTdEO0FBQ0Q7QUFDREMsZ0JBQVUsR0FBVjtBQUNEO0FBQ0RBLGNBQVUsSUFBVjtBQUNEO0FBQ0QsdUJBQVFkLEdBQVIsa0JBQVljLE1BQVosU0FBdUJDLE1BQXZCO0FBQ0QiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUSUxFUyBmcm9tIFwiLi90aWxlc1wiO1xyXG5cclxuLy8gRGVidWcgYnkgZHVtcGluZyBhIHRhYmxlIHRvIHRoZSBjb25zb2xlIHdoZXJlIGVhY2ggZWxlbWVudCBpbiB0aGUgbWFwIGlzIHRoZSBudW1iZXIgb2Ygcm9vbXMgaW5cclxuLy8gdGhhdCBsb2NhdGlvblxyXG5leHBvcnQgZnVuY3Rpb24gZGVidWdSb29tR3JpZChkdW5nZW9uKSB7XHJcbiAgY29uc3QgdGFibGUgPSBkdW5nZW9uLnJvb21HcmlkLm1hcChyb3cgPT4gcm93Lm1hcChlbGVtID0+IGAke2VsZW0ubGVuZ3RofWAucGFkU3RhcnQoMikpKTtcclxuICBjb25zb2xlLmxvZyh0YWJsZS5tYXAocm93ID0+IHJvdy5qb2luKFwiIFwiKSkuam9pbihcIlxcblwiKSk7XHJcbn1cclxuXHJcbi8vIERlYnVnIGJ5IHJldHVybmluZyBhIGNvbG9yZWQoISkgdGFibGUgc3RyaW5nIHdoZXJlIGVhY2ggdGlsZSBpbiB0aGUgbWFwIGlzIHJlcHJlc2VudGVkIHdpdGggYW5cclxuLy8gQVNDSUkgc3RyaW5nXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z01hcChkdW5nZW9uLCBjb25maWcgPSB7fSkge1xyXG4gIGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICB7fSxcclxuICAgIHtcclxuICAgICAgZW1wdHk6IFwiIFwiLFxyXG4gICAgICBlbXB0eUNvbG9yOiBcInJnYigwLCAwLCAwKVwiLFxyXG4gICAgICB3YWxsOiBcIiNcIixcclxuICAgICAgd2FsbENvbG9yOiBcInJnYigyNTUsIDAsIDApXCIsXHJcbiAgICAgIGZsb29yOiBcIl9cIixcclxuICAgICAgZmxvb3JDb2xvcjogXCJyZ2IoMTUwLCAxNTAsIDE1MClcIixcclxuICAgICAgZG9vcjogXCIuXCIsXHJcbiAgICAgIGRvb3JDb2xvcjogXCJyZ2IoMCwgMCwgMjU1KVwiLFxyXG4gICAgICBmb250U2l6ZTogXCIxNXB4XCJcclxuICAgIH0sXHJcbiAgICBjb25maWdcclxuICApO1xyXG5cclxuICBsZXQgc3RyaW5nID0gXCJcIjtcclxuICBsZXQgc3R5bGVzID0gW107XHJcbiAgZm9yIChsZXQgeSA9IDA7IHkgPCBkdW5nZW9uLmhlaWdodDsgeSArPSAxKSB7XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGR1bmdlb24ud2lkdGg7IHggKz0gMSkge1xyXG4gICAgICBjb25zdCB0aWxlID0gZHVuZ2Vvbi50aWxlc1t5XVt4XTtcclxuICAgICAgaWYgKHRpbGUgPT09IFRJTEVTLkVNUFRZKSB7XHJcbiAgICAgICAgc3RyaW5nICs9IGAlYyR7Y29uZmlnLmVtcHR5fWA7XHJcbiAgICAgICAgc3R5bGVzLnB1c2goYGNvbG9yOiAke2NvbmZpZy5lbXB0eUNvbG9yfTsgZm9udC1zaXplOiAke2NvbmZpZy5mb250U2l6ZX1gKTtcclxuICAgICAgfSBlbHNlIGlmICh0aWxlID09PSBUSUxFUy5XQUxMKSB7XHJcbiAgICAgICAgc3RyaW5nICs9IGAlYyR7Y29uZmlnLndhbGx9YDtcclxuICAgICAgICBzdHlsZXMucHVzaChgY29sb3I6ICR7Y29uZmlnLndhbGxDb2xvcn07IGZvbnQtc2l6ZTogJHtjb25maWcuZm9udFNpemV9YCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGlsZSA9PT0gVElMRVMuRkxPT1IpIHtcclxuICAgICAgICBzdHJpbmcgKz0gYCVjJHtjb25maWcuZmxvb3J9YDtcclxuICAgICAgICBzdHlsZXMucHVzaChgY29sb3I6ICR7Y29uZmlnLmZsb29yQ29sb3J9OyBmb250LXNpemU6ICR7Y29uZmlnLmZvbnRTaXplfWApO1xyXG4gICAgICB9IGVsc2UgaWYgKHRpbGUgPT09IFRJTEVTLkRPT1IpIHtcclxuICAgICAgICBzdHJpbmcgKz0gYCVjJHtjb25maWcuZG9vcn1gO1xyXG4gICAgICAgIHN0eWxlcy5wdXNoKGBjb2xvcjogJHtjb25maWcuZG9vckNvbG9yfTsgZm9udC1zaXplOiAke2NvbmZpZy5mb250U2l6ZX1gKTtcclxuICAgICAgfVxyXG4gICAgICBzdHJpbmcgKz0gXCIgXCI7XHJcbiAgICB9XHJcbiAgICBzdHJpbmcgKz0gXCJcXG5cIjtcclxuICB9XHJcbiAgY29uc29sZS5sb2coc3RyaW5nLCAuLi5zdHlsZXMpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kZWJ1Zy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')}])});